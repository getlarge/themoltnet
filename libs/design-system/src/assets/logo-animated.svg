<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="none">
  <!--
    The Molt Mark — Animated

    Sequence:
    1. The ring draws itself on from nothing (0→280°)
    2. The diamond scales up from zero with a flash
    3. The glow pulses rhythmically
    4. Orbital particles trace the ring path
    5. Shedding fragments drift away from the gap
  -->
  <defs>
    <!-- Glow filter for the diamond -->
    <filter id="a-glow" x="-100%" y="-100%" width="300%" height="300%">
      <feGaussianBlur stdDeviation="16" />
    </filter>

    <!-- Stronger glow for the flash moment -->
    <filter id="a-flash" x="-150%" y="-150%" width="400%" height="400%">
      <feGaussianBlur stdDeviation="32" />
    </filter>

    <!-- Subtle glow for particles -->
    <filter id="a-particle-glow" x="-200%" y="-200%" width="500%" height="500%">
      <feGaussianBlur stdDeviation="4" />
    </filter>

    <!-- Ring gradient — teal with slight luminance variation -->
    <linearGradient id="ring-grad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#00f0e2" />
      <stop offset="50%" stop-color="#00d4c8" />
      <stop offset="100%" stop-color="#00b8ae" />
    </linearGradient>
  </defs>

  <!-- ============================================================ -->
  <!-- LAYER 1: The Ring — draws itself on                          -->
  <!-- ============================================================ -->
  <circle
    cx="256" cy="256" r="192"
    fill="none"
    stroke="url(#ring-grad)"
    stroke-width="32"
    stroke-linecap="round"
    stroke-dasharray="938.29 268.08"
    stroke-dashoffset="938.29"
    transform="rotate(-50, 256, 256)"
    opacity="0"
  >
    <!-- Fade in -->
    <animate
      attributeName="opacity"
      values="0;1"
      dur="0.3s"
      begin="0.2s"
      fill="freeze"
    />
    <!-- Draw the ring on -->
    <animate
      attributeName="stroke-dashoffset"
      values="938.29;0"
      dur="1.8s"
      begin="0.2s"
      fill="freeze"
      calcMode="spline"
      keySplines="0.25 0.1 0.25 1"
    />
  </circle>

  <!-- Ring afterglow — faint wider stroke that appears after draw -->
  <circle
    cx="256" cy="256" r="192"
    fill="none"
    stroke="#00d4c8"
    stroke-width="48"
    stroke-linecap="round"
    stroke-dasharray="938.29 268.08"
    transform="rotate(-50, 256, 256)"
    opacity="0"
  >
    <animate
      attributeName="opacity"
      values="0;0.06;0.03"
      dur="1.5s"
      begin="1.8s"
      fill="freeze"
    />
  </circle>

  <!-- ============================================================ -->
  <!-- LAYER 2: Shedding fragments near the gap                     -->
  <!-- ============================================================ -->

  <!-- Fragment 1 — left gap end, drifting up-left -->
  <circle cx="148" cy="108" r="5" fill="#00d4c8" opacity="0">
    <animate
      attributeName="opacity"
      values="0;0.5;0.3;0"
      dur="3s"
      begin="2.2s"
      repeatCount="indefinite"
    />
    <animateTransform
      attributeName="transform"
      type="translate"
      values="0,0; -12,-18; -8,-24"
      dur="3s"
      begin="2.2s"
      repeatCount="indefinite"
    />
  </circle>

  <!-- Fragment 2 — right gap end, drifting up-right -->
  <circle cx="368" cy="104" r="3.5" fill="#00d4c8" opacity="0">
    <animate
      attributeName="opacity"
      values="0;0.4;0.2;0"
      dur="3.5s"
      begin="2.6s"
      repeatCount="indefinite"
    />
    <animateTransform
      attributeName="transform"
      type="translate"
      values="0,0; 10,-14; 14,-22"
      dur="3.5s"
      begin="2.6s"
      repeatCount="indefinite"
    />
  </circle>

  <!-- Fragment 3 — tiny particle from gap center, floating up -->
  <circle cx="256" cy="60" r="2.5" fill="#00d4c8" opacity="0">
    <animate
      attributeName="opacity"
      values="0;0.35;0.15;0"
      dur="4s"
      begin="3s"
      repeatCount="indefinite"
    />
    <animateTransform
      attributeName="transform"
      type="translate"
      values="0,0; 2,-20; -2,-32"
      dur="4s"
      begin="3s"
      repeatCount="indefinite"
    />
  </circle>

  <!-- ============================================================ -->
  <!-- LAYER 3: The Diamond — materializes with scale + flash       -->
  <!-- ============================================================ -->

  <!-- Flash layer — appears briefly during materialization -->
  <polygon
    points="256,200 312,256 256,312 200,256"
    fill="#e6a817"
    opacity="0"
    filter="url(#a-flash)"
  >
    <animate
      attributeName="opacity"
      values="0;0.6;0"
      dur="0.8s"
      begin="1.6s"
      fill="freeze"
    />
  </polygon>

  <!-- Glow layer — pulses after materialization -->
  <polygon
    points="256,200 312,256 256,312 200,256"
    fill="#e6a817"
    opacity="0"
    filter="url(#a-glow)"
  >
    <!-- Initial appear -->
    <animate
      attributeName="opacity"
      values="0;0.4"
      dur="0.5s"
      begin="1.6s"
      fill="freeze"
      id="glow-appear"
    />
    <!-- Breathing pulse -->
    <animate
      attributeName="opacity"
      values="0.2;0.35;0.2"
      dur="3s"
      begin="glow-appear.end"
      repeatCount="indefinite"
    />
  </polygon>

  <!-- Diamond — scales from 0 to full size -->
  <g transform-origin="256 256">
    <polygon
      points="256,200 312,256 256,312 200,256"
      fill="#e6a817"
      opacity="0"
    >
      <animate
        attributeName="opacity"
        values="0;1"
        dur="0.4s"
        begin="1.6s"
        fill="freeze"
      />
    </polygon>
    <animateTransform
      attributeName="transform"
      type="scale"
      values="0;1.15;1"
      dur="0.6s"
      begin="1.6s"
      fill="freeze"
      calcMode="spline"
      keySplines="0.34 1.56 0.64 1; 0.25 0.1 0.25 1"
    />
  </g>

  <!-- ============================================================ -->
  <!-- LAYER 4: Orbital particle — traces the ring path             -->
  <!-- ============================================================ -->

  <!-- Particle orbiting along the ring -->
  <circle r="6" fill="#00f0e2" opacity="0" filter="url(#a-particle-glow)">
    <animate
      attributeName="opacity"
      values="0;0.7;0.7;0"
      keyTimes="0;0.05;0.85;1"
      dur="4s"
      begin="2.5s"
      repeatCount="indefinite"
    />
    <animateMotion
      dur="4s"
      begin="2.5s"
      repeatCount="indefinite"
      rotate="auto"
    >
      <mpath href="#orbit-path" />
    </animateMotion>
  </circle>

  <!-- Orbit path (invisible) — follows the visible arc -->
  <circle
    id="orbit-path"
    cx="256" cy="256" r="192"
    fill="none" stroke="none"
    transform="rotate(-50, 256, 256)"
  />

  <!-- Second orbital particle — opposite phase, amber -->
  <circle r="4" fill="#e6a817" opacity="0" filter="url(#a-particle-glow)">
    <animate
      attributeName="opacity"
      values="0;0.5;0.5;0"
      keyTimes="0;0.05;0.85;1"
      dur="5s"
      begin="3.5s"
      repeatCount="indefinite"
    />
    <animateMotion
      dur="5s"
      begin="3.5s"
      repeatCount="indefinite"
      rotate="auto"
    >
      <mpath href="#orbit-path" />
    </animateMotion>
  </circle>

  <!-- ============================================================ -->
  <!-- LAYER 5: Ambient glow ring — subtle pulsing halo             -->
  <!-- ============================================================ -->
  <circle
    cx="256" cy="256" r="192"
    fill="none"
    stroke="#00d4c8"
    stroke-width="1"
    opacity="0"
  >
    <animate
      attributeName="opacity"
      values="0;0.15;0.05;0.15"
      dur="4s"
      begin="2.5s"
      repeatCount="indefinite"
    />
    <animate
      attributeName="r"
      values="192;196;192"
      dur="4s"
      begin="2.5s"
      repeatCount="indefinite"
    />
  </circle>
</svg>
